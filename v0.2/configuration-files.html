<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuration Files</title>
    <link rel="stylesheet" href="assets/styles.css">
    <link rel="stylesheet" href="assets/highlight/styles/atom-one-dark.css">
    <script src="assets/highlight/highlight.min.js"></script>
    <script src="assets/script.js"></script> <!-- ! External script file -->
    <script>hljs.highlightAll();</script>
    <style>
        #sidebar-container {
            width: 25%; /* ! Sidebar max width set to 40% */
            max-width: 25%;
        }
        .content {
            flex-grow: 1; /* Ensures the content takes up the remaining space */
            max-width: 75%;
            padding-left: 20px; /* Adjust spacing as needed */
        }
        table {
            max-width: 80%; /* ! Table max width set to 40% */
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="sidebar-container">
            <aside class="sidebar">
    <div class="logo">
        <a href="index.html">
            <img src="_images/logo.png" alt="Framework Logo">
        </a>
    </div>

    <h2>Framework</h2>
    <ul>
        <li>
            <a>About The Framework</a>
            <!-- ! Submenu -->
            <ul>
                <li><a href="general.html">General</a></li>
                <li><a href="tools.html">SP Tools</a></li>
                <li><a href="file-structure.html">File / Folder Structure</a></li>
<!--                <li><a href="file-order.html">File Import Order</a></li>-->
            </ul>
        </li>
        <li>
            <a>Framework Essentials</a>
            <!-- ! Submenu -->
            <ul>
                <li><a href="essentials.html#host-management">Host Management</a></li>
                <li><a href="essentials.html#global-functions">Global Functions</a></li>
                <li><a href="essentials.html#global-timers">Global Timers</a></li>
                <li><a href="essentials.html#ui-hosts_tlps">UI Hosts / TLPs</a></li>
                <li><a href="essentials.html#trace_print-tools">Trace / Print Tools</a></li>
                <li><a href="essentials.html#console-management">Console Management</a></li>
                <li><a href="essentials.html#building-ui-elements">Building UI Elements</a></li>
                <li><a href="essentials.html#access-ui-elements">Access UI Elements</a></li>
                <li><a href="essentials.html#me-set-tools">ME Set Tools</a></li>
                <li><a href="essentials.html#ui-element-set-tools">UI Element Set Tools</a></li>
                <li><a href="essentials.html#page-popup-navigation">Page / Popup Navigation</a></li>
            </ul>
        </li>
                <li>
            <li><a href="gui-design.html">GUI Design Principles</a></li>
            <!-- ! Submenu -->
        <li>
            <a href="boot-agent.html">Boot Agent</a>
        </li>

        <h2>Plug-ins</h2>
        <li>
            <a>Configuration Files</a>
            <!-- ! Submenu -->
            <ul>
                <li><a href="configuration-files.html#device-config">Device Configuration</a></li>
                <li><a href="configuration-files.html#matrix-config">Matrix Configuration</a></li>
            </ul>
        </li>

        <h2>Sandbox</h2>
        <li><a href="sandbox.html">What is a Sandbox?</a></li>
        <li>
            <a href="defining-a-sandbox.html">Defining a Sandbox</a>
            <!-- ! Submenu -->
        </li>
        <li><a href="sandbox-config.html">Sandbox Config</a></li>

        <h2>Code Examples</h2>
        <li><a href="example-creating-elements.html">Creating Elements</a></li>

    </ul>


    <h3>Quick Search</h3>
    <!-- Search input - event listener attached in JavaScript -->
    <input type="text" id="search" placeholder="Search...">
</aside>

        </div> <!-- ! Sidebar will be inserted here dynamically -->

        <main class="content">
            <h1>Configuration Files</h1>
            <section id="introduction">
                <h2>Introduction</h2>
                <p>
                    Configuration files are a critical component of the SP Framework, allowing for flexible and maintainable control systems.
                    These files enable you to define device settings and matrix routing without modifying core code,
                    making your projects more adaptable and easier to maintain.
                </p>
                <p>
                    The SP Framework uses CSV (Comma-Separated Values) files for configuration, which are easy to create, edit, and maintain.
                    This documentation focuses on two essential configuration files: Device Configuration (deviceConfig.csv) and 
                    Matrix Configuration (matrixConfig.csv).
                </p>
            </section>

            <section id="config-file-types">
                <h2>Types of Configuration Files</h2>
                <p>
                    This guide focuses on two primary configuration files used in the SP Framework sandbox:
                </p>
                <table>
                    <tr><th>File Type</th><th>Description</th></tr>
                    <tr><td><a href="#device-config">Device Configuration (deviceConfig.csv)</a></td><td>Defines hardware devices and their connection parameters</td></tr>
                    <tr><td><a href="#matrix-config">Matrix Configuration (matrixConfig.csv)</a></td><td>Defines signal routing paths and matrix I/O points</td></tr>
                </table>
            </section>

            <section id="device-config">
                <h2>Device Configuration (deviceConfig.csv)</h2>
                <p>
                    The Device Configuration file (deviceConfig.csv) defines all hardware devices that are part of your control system,
                    including their connection parameters, types, and models. This file is essential for the sandbox environment
                    as it allows you to add, remove, or modify devices without changing your core application code.
                </p>

                <h3>File Format</h3>
                <p>
                    The deviceConfig.csv file is a comma-separated values file with the following columns:
                </p>
                <ul>
                    <li><strong>name:</strong> A unique identifier for the device</li>
                    <li><strong>type:</strong> The type of device (Display, DSP, Matrix, etc.)</li>
                    <li><strong>module:</strong> The module used to control this device</li>
                    <li><strong>Host:</strong> The host device that connects to this device</li>
                    <li><strong>Port:</strong> The port or connection point on the host</li>
                    <li><strong>DeviceAlias:</strong> A friendly name for the device</li>
                    <li><strong>Mfg:</strong> The manufacturer of the device</li>
                    <li><strong>Model:</strong> The model number or name of the device</li>
                </ul>

                <h3>Example CSV</h3>
                <pre><code class="language-csv">name,type,module,Host,Port,DeviceAlias,Mfg,Model
Display_Main,Display,SamsungMDC,Processor_Main,192.168.1.100:1515,Main Display,Samsung,QM85R
DSP_Room,AudioProcessor,ExtronDSP,Processor_Main,192.168.1.101:23,Room DSP,Extron,DMP 128 Plus
Matrix_Main,Matrix,ExtronMatrix,Processor_Main,192.168.1.102:23,Main Matrix,Extron,DTP CrossPoint 84
Camera_PTZ,Camera,SonyVISCA,Processor_Main,192.168.1.103:52381,PTZ Camera,Sony,SRG-X400</code></pre>

                <h3>How It Works</h3>
                <p>
                    During system initialization, the SP Framework loads the deviceConfig.csv file and processes it as follows:
                </p>
                <ol>
                    <li>The file is read by the <code>import_devicesConfig_CSV</code> function in <code>__sandbox_devices_csv.py</code></li>
                    <li>Each row in the CSV is converted into a device object with the specified parameters</li>
                    <li>The device objects are registered with the system and become available for use</li>
                    <li>The appropriate module (specified in the 'module' column) is loaded for each device</li>
                </ol>

                <h3>Using Device Configuration with the Sandbox</h3>
                <p>
                    The deviceConfig.csv file is a critical component of the sandbox environment. Here's how to use it effectively:
                </p>
                <ul>
                    <li><strong>Device Definition:</strong> Define all devices that will be part of your control system in the CSV file</li>
                    <li><strong>Module Assignment:</strong> Assign the appropriate module to each device using the 'module' column</li>
                    <li><strong>Connection Parameters:</strong> Specify how each device connects to the system (IP address, port, etc.)</li>
                    <li><strong>Consistency:</strong> Ensure that device names are consistent across all configuration files</li>
                </ul>

                <p>
                    The 'module' column is particularly important as it links to the module library in the sandbox. 
                    The value in this column must match a key in the module library for the device to function correctly.
                </p>
            </section>

            <section id="matrix-config">
                <h2>Matrix Configuration (matrixConfig.csv)</h2>
                <p>
                    The Matrix Configuration file (matrixConfig.csv) defines the signal routing paths in your control system.
                    It specifies the inputs and outputs of your matrix switchers and how they are connected to devices.
                    This file is essential for creating a flexible routing system that can adapt to different requirements.
                </p>

                <h3>File Format</h3>
                <p>
                    The matrixConfig.csv file is a comma-separated values file with the following columns:
                </p>
                <ul>
                    <li><strong>matrix:</strong> The name of the matrix switcher</li>
                    <li><strong>ioKey:</strong> A unique identifier for the input or output</li>
                    <li><strong>ioSecLvl:</strong> Security level for the I/O point</li>
                    <li><strong>ioType:</strong> Type of I/O (input or output)</li>
                    <li><strong>ioPort:</strong> The physical port number on the matrix</li>
                    <li><strong>uiLabel:</strong> Label to display in the user interface</li>
                    <li><strong>uiIcon:</strong> Icon to display in the user interface</li>
                </ul>

                <h3>Example CSV</h3>
                <pre><code class="language-csv">matrix,ioKey,ioSecLvl,ioType,ioPort,uiLabel,uiIcon
Matrix_Main,PC_HDMI,0,input,1,PC,computer
Matrix_Main,Laptop_HDMI,0,input,2,Laptop,laptop
Matrix_Main,Wireless,0,input,3,AirMedia,wireless
Matrix_Main,Codec_In,0,input,4,Codec,videocall
Matrix_Main,Display_Main,0,output,1,Main Display,display
Matrix_Main,Display_Side,0,output,2,Side Display,display
Matrix_Main,DSP_Program,0,output,3,Audio,audio
Matrix_Main,Codec_Out,0,output,4,Codec,videocall</code></pre>

                <h3>How It Works</h3>
                <p>
                    During system initialization, the SP Framework loads the matrixConfig.csv file and processes it as follows:
                </p>
                <ol>
                    <li>The file is read by the <code>import_matrixConfig_CSV</code> function in <code>__sandbox_routing_csv.py</code></li>
                    <li>The system creates a database of inputs and outputs based on the CSV data</li>
                    <li>Routing paths are established based on the matrix definitions</li>
                    <li>The UI is updated with the appropriate labels and icons for each input and output</li>
                </ol>

                <h3>Using Matrix Configuration with the Sandbox</h3>
                <p>
                    The matrixConfig.csv file is crucial for setting up routing in your sandbox environment. Here's how to use it effectively:
                </p>
                <ul>
                    <li><strong>Matrix Definition:</strong> Define all matrix switchers in your system</li>
                    <li><strong>I/O Mapping:</strong> Map all inputs and outputs to physical ports on the matrix</li>
                    <li><strong>UI Integration:</strong> Provide clear labels and icons for user interface elements</li>
                    <li><strong>Security Levels:</strong> Set appropriate security levels for different I/O points</li>
                </ul>

                <p>
                    For larger systems, you can define multiple matrices in the same file. The example above is for a configuration of a 40x matrix, showing how the same format can scale to larger systems.
                </p>
            </section>

            <section id="best-practices">
                <h2>Best Practices</h2>
                <p>
                    When working with deviceConfig.csv and matrixConfig.csv files in the SP Framework, consider the following best practices:
                </p>

                <ul>
                    <li><strong>Consistent Naming:</strong> Use consistent naming conventions across both files to ensure proper integration.</li>
                    <li><strong>Version Control:</strong> Store configuration files in version control to track changes over time and facilitate collaboration.</li>
                    <li><strong>Backup Configurations:</strong> Always maintain backups of working configurations before making changes.</li>
                    <li><strong>CSV Format Integrity:</strong> Ensure your CSV files maintain proper formatting with correct commas and no special characters that could break parsing.</li>
                    <li><strong>Module Verification:</strong> Verify that all modules referenced in deviceConfig.csv are available in your system before deployment.</li>
                    <li><strong>Matrix Validation:</strong> Confirm that all matrix I/O points in matrixConfig.csv correspond to physical ports on your hardware.</li>
                    <li><strong>Security Levels:</strong> Use appropriate security levels in matrixConfig.csv to control access to sensitive routing paths.</li>
                    <li><strong>Documentation:</strong> Include a header row in your CSV files and maintain separate documentation explaining your configuration choices.</li>
                    <li><strong>Testing:</strong> Test your configuration in a controlled environment before deploying to production.</li>
                </ul>
            </section>

            <section id="conclusion">
                <h2>Conclusion</h2>
                <p>
                    The deviceConfig.csv and matrixConfig.csv files are essential components of the SP Framework sandbox environment.
                    They provide a flexible and maintainable way to define hardware devices and routing paths without modifying core code.
                </p>
                <p>
                    By properly configuring these files, you can create control systems that are:
                </p>
                <ul>
                    <li><strong>Scalable:</strong> Easily add or remove devices and routing paths as your system grows</li>
                    <li><strong>Maintainable:</strong> Make changes to your configuration without modifying application code</li>
                    <li><strong>Adaptable:</strong> Quickly adjust to new requirements or hardware changes</li>
                    <li><strong>Consistent:</strong> Ensure uniform behavior across different installations</li>
                </ul>
                <p>
                    Understanding the structure and usage of these configuration files is crucial for effectively leveraging the 
                    power of the SP Framework in your control system projects. With proper configuration, you can create robust 
                    and flexible systems that meet the needs of your users while remaining easy to maintain and update.
                </p>
            </section>
        </main>
    </div>
</body>
</html>
