<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Host Management</title>
    <link rel="stylesheet" href="assets/styles.css">
    <link rel="stylesheet" href="assets/highlight/styles/atom-one-dark.css">
    <script src="assets/highlight/highlight.min.js"></script>
    <script src="assets/script.js"></script> <!-- ! External script file -->
    <script>hljs.highlightAll();</script>
    <style>

        #sidebar-container {
            width: 25%; /* ! Sidebar max width set to 40% */
            max-width: 25%;
        }
        .content {
            flex-grow: 1; /* Ensures the content takes up the remaining space */
            max-width: 75%;
            padding-left: 20px; /* Adjust spacing as needed */
        }
        table {
            max-width: 80%; /* ! Table max width set to 40% */
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        h3 {
            position: relative;
            padding-bottom: 10px;
            margin-top: 60px; /* Adds space before h3 */
        }
        h3::after {
            content: "";
            display: block;
            width: 100%;
            height: 2px;
            background-color: #000000; /* Light grey color */
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="sidebar-container">
            <aside class="sidebar">
    <div class="logo">
        <a href="index.html">
            <img src="_images/logo.png" alt="Framework Logo">
        </a>
    </div>

    <h2>Framework</h2>
    <ul>
        <li>
            <a>About The Framework</a>
            <!-- ! Submenu -->
            <ul>
                <li><a href="general.html">General</a></li>
                <li><a href="tools.html">SP Tools</a></li>
                <li><a href="file-structure.html">File / Folder Structure</a></li>
<!--                <li><a href="file-order.html">File Import Order</a></li>-->
            </ul>
        </li>
        <li>
            <a>Framework Essentials</a>
            <!-- ! Submenu -->
            <ul>
                <li><a href="essentials.html#host-management">Host Management</a></li>
                <li><a href="essentials.html#global-functions">Global Functions</a></li>
                <li><a href="essentials.html#global-timers">Global Timers</a></li>
                <li><a href="essentials.html#ui-hosts_tlps">UI Hosts / TLPs</a></li>
                <li><a href="essentials.html#trace_print-tools">Trace / Print Tools</a></li>
                <li><a href="essentials.html#console-management">Console Management</a></li>
                <li><a href="essentials.html#building-ui-elements">Building UI Elements</a></li>
                <li><a href="essentials.html#access-ui-elements">Access UI Elements</a></li>
                <li><a href="essentials.html#me-set-tools">ME Set Tools</a></li>
                <li><a href="essentials.html#ui-element-set-tools">UI Element Set Tools</a></li>
                <li><a href="essentials.html#page-popup-navigation">Page / Popup Navigation</a></li>
            </ul>
        </li>
                <li>
            <li><a href="gui-design.html">GUI Design Principles</a></li>
            <!-- ! Submenu -->
        <li>
            <a href="boot-agent.html">Boot Agent</a>
        </li>

        <h2>Plug-ins</h2>
        <li>
            <a>Configuration Files</a>
            <!-- ! Submenu -->
            <ul>
                <li><a href="configuration-files.html#device-config">Device Configuration</a></li>
                <li><a href="configuration-files.html#matrix-config">Matrix Configuration</a></li>
            </ul>
        </li>

        <h2>Sandbox</h2>
        <li><a href="sandbox.html">What is a Sandbox?</a></li>
        <li>
            <a href="defining-a-sandbox.html">Defining a Sandbox</a>
            <!-- ! Submenu -->
        </li>
        <li><a href="sandbox-config.html">Sandbox Config</a></li>

        <h2>Code Examples</h2>
        <li><a href="example-creating-elements.html">Creating Elements</a></li>

    </ul>


    <h3>Quick Search</h3>
    <!-- Search input - event listener attached in JavaScript -->
    <input type="text" id="search" placeholder="Search...">
</aside>

        </div> <!-- ! Sidebar will be inserted here dynamically -->

        <main class="content">
            <h1>Framework Essentials</h1>
            <h2>Host Management</h2>

            <p>The SP Framework provides a structured approach to managing AV control systems, ensuring consistency and
                scalability. This section covers essential functions and their descriptions, categorized for ease of reference.<br><br>
            Host Management provides an easy way to build Host devices from a string without the need for manual editing
            of hard code.  At its simplest level, Host Devices are hardware devices that host physical interfaces and ports such as COM, IR,
                Flex I/O, EthernetClientServers, and others.  The most common Host Devices are the IPCP Processors themselves.
                Traditional instantiation methods for Host Devices are defined in the Extron ControlScript device Package.</p>
            <pre><code>#### ~ ControlScript ###################################################################################################
from extronlib.device import SPDevice, ProcessorDevice</code></pre>
            <br>
            <table>
                <tr><th>Function</th><th>Description</th></tr>
                <tr><td><a href="#register_host">register_host</a></td><td>Creates a global tie-in for processors and SPDs.</td></tr>
                <tr><td><a href="#gHost">gHost</a></td><td>Retrieves a host from the host database.</td></tr>
                <tr><td><a href="#getDefaultHost">getDefaultHost</a></td><td>Retrieves the default UIHost from the configuration.</td></tr>
                <tr><td><a href="#registerAllHosts">registerAllHosts</a></td><td>Registers all hosts defined in the sandbox configuration.</td></tr>
                <tr><td><a href="#anyUI_Host">anyUI_Host</a></td><td>Retrieves the UI host from the tlpDB based on the provided ui_name.</td></tr>
            </table>

            <section id="host-management">

                <h3 id="register_host">register_host</h3>
                <p>
                    The <code>register_host</code> function allows global registration of a host, making it accessible
                    throughout the system. It is primarily used for processors but also supports Secure Platform Devices (SPDs).
                </p>

                <pre><code class="language-python">register_host(host_name, device_class='Processor', description='', header='', text_return=None)</code></pre>

                <h4>Parameters</h4>
                <table>
                    <tr>
                        <th>Parameter</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                    <tr>
                        <td><code>host_name</code></td>
                        <td>str</td>
                        <td>
                            A friendly name used to identify the host.
                            Example: <code>"Processor_Main"</code>.<br>
                        </td>
                    </tr>
                    <tr>
                        <td><code>device_class</code></td>
                        <td>str</td>
                        <td>
                            The type of device to register. Options:
                            <ul>
                                <li><code>'Processor'</code> (default) – Represents a processing unit.</li>
                                <li><code>'SecurePlatform'</code> – Represents a Secure Platform Device.</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td><code>description</code></td>
                        <td>str</td>
                        <td>
                            An optional description of the host's purpose.
                            Example: <code>"Handles main processing tasks."</code>
                        </td>
                    </tr>
                    <tr>
                        <td><code>header</code></td>
                        <td>str</td>
                        <td>
                            Additional information to display before registration details.
                            Example: <code>"System Initialization"</code>.
                        </td>
                    </tr>
                    <tr>
                        <td><code>text_return</code></td>
                        <td>function</td>
                        <td>
                            An optional callback function for handling returned messages.
                            <br>
                        </td>
                    </tr>
                </table>

                <h4>Return Value</h4>
                <p>
                    This function does not return a value directly. However, if <code>text_return</code> is provided,
                    the function will pass status messages to it.
                </p>

                <h4>Example Usage</h4>
                <pre><code class="language-python">
## ! Register a processor
# Simplified Version
register_host("Processor_Main", "Processor", "Handles main processing tasks")

# Using Keywords
register_host(host_name="Processor_Main", device_class="Processor", description="Handles main processing tasks")

# Register a Secure Platform Device
register_host("SPD_Temperature_Sensor", "SecurePlatform", "Monitors temperature for secure platforms")

# Utilize text_return
register_host("Processor_Main", "Processor", "Handles main processing tasks", text_return=print)
## This example will take in the function print and pass status messages to it.

                </code></pre>

                <h4>Error Handling</h4>
                <p>
                    If an invalid <code>device_class</code> is provided, an error message will be generated and logged.
                </p>

                <h3 id="gHost">gHost</h3>
                <p>
                    The <code>gHost</code> function retrieves a host object from the host database.
                    If the requested host is not registered, it raises an error.
                </p>
                <pre><code class="language-python">gHost(host_to_retrieve)</code></pre>
                <h4>Parameters</h4>
                <table>
                    <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
                    <tr><td><code>host_to_retrieve</code></td><td>str</td><td>The name of the host to retrieve.</td></tr>
                </table>
                <h4>Return Value</h4>
                <p>Returns the registered host object.</p>
                <h4>Default location in Sandbox Config</h4>
                <pre><code class="language-python">
sandbox_config['hosts'] = {}
sandbox_config['hosts']['All'] = \
    [
        ## ! ADD PROCESSORS, EXP, and SPD Here ##
        ('Processor_Main', 'Processor', 'Main Processor for all control ports'),
        # ('Power_Ctrl', 'SecurePlatform', 'Four Port Power Control'),
        # ('EXP_S5', 'SecurePlatform', 'Five Port Serial Expansion')
    ]
sandbox_config['hosts']["Default"]= "Processor_Main"
</code></pre>
                <h4>Example Usage</h4>
                <pre><code class="language-python">
## ! Register a processor
#! Get the host object
globalHost = gHost("Processor_Main")

#! Print the host's model name and IP address
print(globalHost.ModelName)
print(globalHost.IPAddress)

#! Reboot the host
globalHost.Reboot()
                </code></pre>
                <h4>Error Handling</h4>
                <p>Raises a <code>RuntimeError</code> if the host is not found.</p>

                <h3 id="getDefaultHost">getDefaultHost</h3>
                <p>
                    The <code>getDefaultHost</code> function retrieves the default UIHost from the configuration.
                    It can return the UIHost as an alias or as a host object.
                </p>
                <pre><code class="language-python">getDefaultHost(return_as_alias=False)</code></pre>
                <h4>Parameters</h4>
                <table>
                    <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
                    <tr><td><code>return_as_alias</code></td><td>bool</td><td>If True, returns the alias identifier; otherwise, returns the host object.</td></tr>
                </table>
                <h4>Return Value</h4>
                <p>Returns the UIHost alias (str) or the host object.</p>
                                <pre><code class="language-python">
#! Get the default host object
defaultHost = getDefaultHost()

#! Print the host's model name and IP address
print(defaultHost.ModelName)
print(defaultHost.IPAddress)

#! Reboot the host
defaultHost.Reboot()

#! Get the host object alias
defaultHostAlias = getDefaultHost(return_as_alias=True)
print(defaultHostAlias)
                </code></pre>
                <h4>Error Handling</h4>
                <p>Logs an error and returns <code>None</code> if no UIHost is found.</p>

                <h3 id="registerAllHosts">registerAllHosts</h3>
                <p>
                    The <code>registerAllHosts</code> function pulls host definitions from the sandbox configuration
                    and registers them globally.  If properly configured, the <code>list_of_host_tuples</code> can be defined
                    in the <a href="sandbox-config.html">Sandbox Config</a>
                </p>
                <pre><code class="language-python">registerAllHosts(list_of_host_tuples, text_return=None)</code></pre>
                <h4>Parameters</h4>
                <table>
                    <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
                    <tr><td><code>list_of_host_tuples</code></td><td>list</td><td>A list of tuples containing host name, type, and description.</td></tr>
                    <tr><td><code>text_return</code></td><td>function</td><td>An optional callback for status messages.</td></tr>
                </table>
                <h4>Example Host List</h4>
                <pre><code class="language-python">
list_of_hosts = [
    ('Processor_Main', 'Processor', 'Main Processor for all control ports'),
    ('EXP1', 'SecurePlatform', 'Control Breakout Behind Displays')
]
registerAllHosts(list_of_hosts)
                </code></pre>
                <h4>Return Value</h4>
                <p>This function does not return a value but logs messages regarding registration status.</p>
            </section>
        </main>
    </div>
</body>
</html>
